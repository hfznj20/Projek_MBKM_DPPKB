import{d as V,C,q as U,c as i,o as d,a as o,u as s,m as E,w as p,b as n,P as c,i as g,g as I,h as l,v as f,F as b,f as y,t as x,k}from"./app-mZDct9CA.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-DZRwmXYM.js";import{_ as t}from"./InputError.vue_vue_type_script_setup_true_lang-gjNec2s8.js";import{_ as w}from"./index-BXDhsyuR.js";import"./useForwardExpose-DvvQo8I0.js";import"./RovingFocusGroup-B7ZcCBOj.js";const B={class:"flex flex-col gap-4 p-4"},S={class:"flex justify-between items-center"},A={class:"bg-white rounded-lg shadow p-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F=["value"],O=["disabled"],T=["value"],q={class:"md:col-span-2 flex justify-end gap-3 pt-4"},H={key:0},L={key:1},X=V({__name:"Edit",props:{manajemen:{}},setup(K){const u=K,a=C({NIK:u.manajemen.NIK,nama:u.manajemen.nama,kecamatan:u.manajemen.kecamatan,kelurahan:u.manajemen.kelurahan,email:u.manajemen.email,password:"",password_confirmation:""}),v=[{title:"Manajemen User",href:route("manajemen.index")},{title:"Edit Data",href:"#"}],h=[{id:"A",name:"Kecamatan A"},{id:"B",name:"Kecamatan B"},{id:"C",name:"Kecamatan C"},{id:"D",name:"Kecamatan D"}],j={A:[{id:"1",name:"Kelurahan 1"},{id:"2",name:"Kelurahan 2"},{id:"3",name:"Kelurahan 3"}],B:[{id:"6",name:"Kelurahan 6"},{id:"7",name:"Kelurahan 7"},{id:"9",name:"Kelurahan 9"}],C:[{id:"4",name:"Kelurahan 4"},{id:"5",name:"Kelurahan 5"},{id:"8",name:"Kelurahan 8"}],D:[{id:"10",name:"Kelurahan 10"},{id:"11",name:"Kelurahan 11"},{id:"12",name:"Kelurahan 12"}]},D=U(()=>a.kecamatan?j[a.kecamatan]||[]:[]),N=()=>{a.put(route("manajemen.update",a.NIK),{preserveScroll:!0,onSuccess:()=>{a.reset(),console.log("Data berhasil diperbarui"),window.location.href=route("manajemen.index")},onError:m=>{console.error("Update error:",m),alert("Ada Kesalahan dalam Pengisian Akun!")}})},M=()=>{confirm("Apakah kamu yakin ingin menghapus data ini?")&&a.delete(route("manajemen.destroy",a.NIK),{onSuccess:()=>{window.location.href=route("manajemen.index")},onError:m=>{console.error("Delete error:",m)}})};return(m,e)=>(d(),i(b,null,[o(s(E),{title:"Edit Data Manajemen"}),o(P,{breadcrumbs:v},{default:p(()=>[n("div",B,[n("div",S,[e[9]||(e[9]=n("h1",{class:"text-2xl font-bold"},"Edit Data Manajemen",-1)),o(s(c),{href:m.route("manajemen.index"),class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"},{default:p(()=>e[8]||(e[8]=[g(" Kembali ")])),_:1},8,["href"])]),n("div",A,[n("form",{onSubmit:I(N,["prevent"])},[n("div",$,[n("div",null,[e[10]||(e[10]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"NIK",-1)),l(n("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s(a).NIK=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100",disabled:""},null,512),[[f,s(a).NIK]]),o(t,{message:s(a).errors.NIK,class:"mt-1"},null,8,["message"])]),n("div",null,[e[11]||(e[11]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama",-1)),l(n("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(a).nama=r),type:"text",placeholder:"Masukkan nama lengkap",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,s(a).nama]]),o(t,{message:s(a).errors.nama,class:"mt-1"},null,8,["message"])]),n("div",null,[e[13]||(e[13]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kecamatan",-1)),l(n("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(a).kecamatan=r),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:e[3]||(e[3]=r=>s(a).kelurahan="")},[e[12]||(e[12]=n("option",{value:""},"Pilih Kecamatan",-1)),(d(),i(b,null,y(h,r=>n("option",{key:r.id,value:r.id},x(r.name),9,F)),64))],544),[[k,s(a).kecamatan]]),o(t,{message:s(a).errors.kecamatan,class:"mt-1"},null,8,["message"])]),n("div",null,[e[15]||(e[15]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kelurahan",-1)),l(n("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>s(a).kelurahan=r),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!s(a).kecamatan},[e[14]||(e[14]=n("option",{value:""},"Pilih Kelurahan",-1)),(d(!0),i(b,null,y(D.value,r=>(d(),i("option",{key:r.id,value:r.id},x(r.name),9,T))),128))],8,O),[[k,s(a).kelurahan]]),o(t,{message:s(a).errors.kelurahan,class:"mt-1"},null,8,["message"])]),n("div",null,[e[16]||(e[16]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),l(n("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>s(a).email=r),type:"email",placeholder:"Masukkan email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,s(a).email]]),o(t,{message:s(a).errors.email,class:"mt-1"},null,8,["message"])]),n("div",null,[e[17]||(e[17]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),l(n("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>s(a).password=r),type:"password",placeholder:"Masukkan password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,s(a).password]]),o(t,{message:s(a).errors.password,class:"mt-1"},null,8,["message"])]),n("div",null,[e[18]||(e[18]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Confirm Password",-1)),l(n("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>s(a).password_confirmation=r),type:"password",placeholder:"Konfirmasi password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,s(a).password_confirmation]]),o(t,{message:s(a).errors.password_confirmation,class:"mt-1"},null,8,["message"])]),n("div",q,[o(s(c),{href:m.route("manajemen.index"),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition"},{default:p(()=>e[19]||(e[19]=[g(" Batal ")])),_:1},8,["href"]),o(s(w),{type:"button",variant:"destructive",onClick:M},{default:p(()=>e[20]||(e[20]=[g(" Hapus Data ")])),_:1}),o(s(w),{type:"submit",disabled:s(a).processing},{default:p(()=>[s(a).processing?(d(),i("span",H,"Menyimpan...")):(d(),i("span",L,"Simpan Perubahan"))]),_:1},8,["disabled"])])])],32)])])]),_:1})],64))}});export{X as default};
